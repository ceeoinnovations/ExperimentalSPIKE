<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Command SPIKE w/ GPT</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="./prism/prism.css" />
    <script defer src="index.js"></script>
    <script defer src="messages.js"></script>
    <script
      defer="defer"
      src="https://cdn.jsdelivr.net/gh/gabrielsessions/pyrepl-js/build/main.js"
    ></script>
    <!-- try defer next line -->
    <script src="./prism/prism.js"></script>
  </head>

  <body>
    <div class="head">
      <div id="bar" class="top-bar"></div>
      <div id="title-bar" , class="title-bar">
        <div id="root"></div>
        <h1 id="title" class="center-title">Command SPIKE w/ GPT</h1>
      </div>
    </div>
    <br />
    <div class="two-col-page-body">
      <div class="two-col-page-body-col">
        <h4>How to use:</h4>
        <p>
          Ask GPT to execute a motor-based or sound-based action (move forward,
          turn, play a song, etc.). The more specificity, the better!
        </p>

        <br />
        <h4>Setup:</h4>
        <ul>
          <li>A SPIKE Hub needs to be connected to this computer over USB</li>
          <li>
            The Hub should be connected to at least two motors on Ports A and B
          </li>
        </ul>
        <div class="toggle-list">
          <button class="button" onclick="toggleModules()" id="toggleModules">
            Supported Modules
          </button>
          <!-- module support dropdown -->
          <div class="dropdown-menu" id="moduleDropdownMenu">
            <div class="check-element">
              <input type="checkbox" id="motorCheckbox" />
              <label for="motorCheckbox">Motor</label>
            </div>
            <div class="check-element">
              <input type="checkbox" id="distanceSensorCheckbox" />
              <label for="distanceSensorCheckbox">Distance Sensor</label>
            </div>
            <div class="check-element">
              <input type="checkbox" id="hubCheckbox" />
              <label for="hubCheckbox">Hub</label>
            </div>
            <div class="check-element">
              <input type="checkbox" id="portCheckbox" />
              <label for="portCheckbox">Port</label>
            </div>
          </div>
        </div>
        <textarea
          id="promptBox"
          name="promptBox"
          class="gpt-prompt-box"
        ></textarea>
        <br />
        <div class="button-panel">
          <button
            id="submitPrompt"
            class="button prompt"
            onclick="sendCommandToGPT()"
          >
            Submit Prompt
          </button>

          <button id="runCode" class="button run" onclick="runCode()">
            Run Code
          </button>

          <button id="clearCode" class="button clear" onclick="clearCode()">
            Clear Code
          </button>
        </div>
        <div id="loading"></div>
      </div>
      <div class="two-col-page-body-col">
        <div>
          <h4>Assumptions:</h4>
          <div id="assumptionsBox"></div>
        </div>
        <div id="code-div">
          <h4>Generated Code:</h4>
          <div id="code-block">
            <pre><code class="language-python" id="code"></code></pre>
          </div>
        </div>
      </div>
    </div>
    <div class="page-bottom"></div>
  </body>
</html>
